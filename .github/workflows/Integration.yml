name: Integration
on:
  push:
    branches:
      - 'main'

jobs:
  Integration:
    runs-on: windows-latest
    defaults:
      run:
        shell: pwsh
    steps:
    - name: Checkout code
      uses: actions/checkout@v2
    - name: Install
      run: |
        Write-Output "Installing"
        .\packages\build\install.ps1
    - name: Build Test
      run: |
        Write-Output "Testing Build Script"
        .\packages\build\build_test.ps1
    - name: Build, Test, Lint & Publish
      run: |
        Write-Output "Building, Testing, Linting & Publishing Module"
        #.\packages\build\build.ps1
    - name: Finish
      run: Write-Output "Done"